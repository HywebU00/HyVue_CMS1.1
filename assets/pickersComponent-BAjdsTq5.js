import{l as Se,_ as Ae}from"./layoutCard_item-BpLmLQ-X.js";import{g as B,p,k as V,b as D,a as f,q as Z,n as j,a5 as L,j as fe,an as Ye,ao as z,A as O,R as q,t as Oe,s as J,B as X,x as me,d as Q,U as E,ap as Ie,aa as he,D as ke,m as Y,aq as pe,y as We,I as Ne,Q as Be,u as $e,F as Re,_ as Te,e as je,w as M,f as ne,o as He}from"./index-Cp5Gxez6.js";import{V as le,a as Fe}from"./VRow-pnyVTAJP.js";import{V as re}from"./VDivider-BBQN8d8w.js";import{V as Ue}from"./VCol-B4BEHr_M.js";import{g as Ee,V as ze}from"./VCard-BISjSBMR.js";import{V as I}from"./VBtn-BqCVlE7m.js";import{V as Le}from"./VSpacer-D0ZPfyaL.js";import{u as $,b as ye,e as ee}from"./router-BGEUxbHf.js";import{M as ge}from"./VImg-CD00RIlJ.js";import{b as qe}from"./index-CLVhczgL.js";import{V as ie,m as Je}from"./VSheet-Bs5YI7gE.js";import"./group-CQhz8K6t.js";const De=p({active:{type:[String,Array],default:void 0},controlHeight:[Number,String],disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:L,default:"$next"},prevIcon:{type:L,default:"$prev"},modeIcon:{type:L,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),de=B()({name:"VDatePickerControls",props:De(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,a){let{emit:h}=a;const l=V(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),t=V(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),s=V(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),c=V(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function y(){h("click:prev")}function d(){h("click:next")}function n(){h("click:year")}function r(){h("click:month")}return $(()=>D("div",{class:j(["v-date-picker-controls"]),style:{"--v-date-picker-controls-height":Z(e.controlHeight)}},[f(I,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",disabled:l.value,text:e.text,variant:"text",rounded:!0,onClick:r},null),f(I,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:t.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:n},null),f(Le,null,null),D("div",{class:"v-date-picker-controls__month"},[f(I,{"data-testid":"prev-month",disabled:s.value,density:"comfortable",icon:e.prevIcon,variant:"text",onClick:y},null),f(I,{"data-testid":"next-month",disabled:c.value,icon:e.nextIcon,density:"comfortable",variant:"text",onClick:d},null)])])),{}}}),Qe=p({appendIcon:L,color:String,header:String,transition:String,onClick:Ye()},"VDatePickerHeader"),oe=B()({name:"VDatePickerHeader",props:Qe(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,a){let{emit:h,slots:l}=a;const{backgroundColorClasses:t,backgroundColorStyles:s}=ye(()=>e.color);function c(){h("click")}function y(){h("click:append")}return $(()=>{const d=!!(l.default||e.header),n=!!(l.append||e.appendIcon);return D("div",{class:j(["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},t.value]),style:fe(s.value),onClick:c},[l.prepend&&D("div",{key:"prepend",class:"v-date-picker-header__prepend"},[l.prepend()]),d&&f(ge,{key:"content",name:e.transition},{default:()=>{var r;return[D("div",{key:e.header,class:"v-date-picker-header__content"},[((r=l.default)==null?void 0:r.call(l))??e.header])]}}),n&&D("div",{class:"v-date-picker-header__append"},[l.append?f(ee,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var r;return[(r=l.append)==null?void 0:r.call(l)]}}):f(I,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:y},null)])])}),{}}}),Ge=p({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:{type:[Number,String],default:void 0},weekdayFormat:String},"calendar");function Ke(e){const a=z(),h=O(e,"modelValue",[],u=>q(u).map(o=>a.date(o))),l=V(()=>e.displayValue?a.date(e.displayValue):h.value.length>0?a.date(h.value[0]):e.min?a.date(e.min):Array.isArray(e.allowedDates)?a.date(e.allowedDates[0]):a.date()),t=O(e,"year",void 0,u=>{const o=u!=null?Number(u):a.getYear(l.value);return a.startOfYear(a.setYear(a.date(),o))},u=>a.getYear(u)),s=O(e,"month",void 0,u=>{const o=u!=null?Number(u):a.getMonth(l.value),k=a.setYear(a.startOfMonth(a.date()),a.getYear(t.value));return a.setMonth(k,o)},u=>a.getMonth(u)),c=V(()=>{const u=a.toJsDate(a.startOfWeek(a.date(),e.firstDayOfWeek)).getDay();return a.getWeekdays(e.firstDayOfWeek,e.weekdayFormat).filter((o,k)=>e.weekdays.includes((k+u)%7))}),y=V(()=>{const u=a.getWeekArray(s.value,e.firstDayOfWeek),o=u.flat(),k=6*7;if(e.weeksInMonth==="static"&&o.length<k){const b=o[o.length-1];let C=[];for(let g=1;g<=k-o.length;g++)C.push(a.addDays(b,g)),g%7===0&&(u.push(C),C=[])}return u});function d(u,o){return u.filter(k=>e.weekdays.includes(a.toJsDate(k).getDay())).map((k,b)=>{const C=a.toISO(k),g=!a.isSameMonth(k,s.value),v=a.isSameDay(k,a.startOfMonth(s.value)),S=a.isSameDay(k,a.endOfMonth(s.value)),R=a.isSameDay(k,s.value),A=e.weekdays.length;return{date:k,formatted:a.format(k,"keyboardDate"),isAdjacent:g,isDisabled:_(k),isEnd:S,isHidden:g&&!e.showAdjacentMonths,isSame:R,isSelected:h.value.some(G=>a.isSameDay(k,G)),isStart:v,isToday:a.isSameDay(k,o),isWeekEnd:b%A===A-1,isWeekStart:b%A===0,isoDate:C,localized:a.format(k,"dayOfMonth"),month:a.getMonth(k),year:a.getYear(k)}})}const n=V(()=>{const u=a.startOfWeek(l.value,e.firstDayOfWeek),o=[];for(let b=0;b<=6;b++)o.push(a.addDays(u,b));const k=a.date();return d(o,k)}),r=V(()=>{const u=y.value.flat(),o=a.date();return d(u,o)}),w=V(()=>y.value.map(u=>u.length?a.getWeek(u[0],e.firstDayOfWeek):null));function _(u){if(e.disabled)return!0;const o=a.date(u);return e.min&&a.isAfter(a.date(e.min),o)||e.max&&a.isAfter(o,a.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(k=>a.isSameDay(a.date(k),o)):typeof e.allowedDates=="function"?!e.allowedDates(o):!1}return{displayValue:l,daysInMonth:r,daysInWeek:n,genDays:d,model:h,weeksInMonth:y,weekdayLabels:c,weekNumbers:w}}const be=p({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...E(Ge(),["displayValue"])},"VDatePickerMonth"),se=B()({name:"VDatePickerMonth",props:be(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,a){let{emit:h,slots:l}=a;const t=Oe(),{daysInMonth:s,model:c,weekNumbers:y,weekdayLabels:d}=Ke(e),n=z(),r=J(),w=J(),_=J(!1),u=X(()=>_.value?e.reverseTransition:e.transition);e.multiple==="range"&&c.value.length>0&&(r.value=c.value[0],c.value.length>1&&(w.value=c.value[c.value.length-1]));const o=V(()=>{const g=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return c.value.length>=g});me(s,(g,v)=>{v&&(_.value=n.isBefore(g[0].date,v[0].date))});function k(g){const v=n.startOfDay(g);if(c.value.length===0?r.value=void 0:c.value.length===1&&(r.value=c.value[0],w.value=void 0),!r.value)r.value=v,c.value=[r.value];else if(w.value)r.value=g,w.value=void 0,c.value=[r.value];else{if(n.isSameDay(v,r.value)){r.value=void 0,c.value=[];return}else n.isBefore(v,r.value)?(w.value=n.endOfDay(r.value),r.value=v):w.value=n.endOfDay(v);c.value=Ie(n,r.value,w.value)}}function b(g){const v=c.value.findIndex(S=>n.isSameDay(S,g));if(v===-1)c.value=[...c.value,g];else{const S=[...c.value];S.splice(v,1),c.value=S}}function C(g){e.multiple==="range"?k(g):e.multiple?b(g):c.value=[g]}$(()=>D("div",{class:"v-date-picker-month",style:{"--v-date-picker-days-in-week":e.weekdays.length}},[e.showWeek&&D("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&D("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Q(" ")]),y.value.map(g=>D("div",{class:j(["v-date-picker-month__day","v-date-picker-month__day--adjacent"])},[g]))]),f(ge,{name:u.value},{default:()=>{var g;return[D("div",{ref:t,key:(g=s.value[0].date)==null?void 0:g.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&d.value.map(v=>D("div",{class:j(["v-date-picker-month__day","v-date-picker-month__weekday"])},[v])),s.value.map((v,S)=>{var A;const R={props:{class:"v-date-picker-month__day-btn",color:v.isSelected||v.isToday?e.color:void 0,disabled:v.isDisabled,icon:!0,ripple:!1,text:v.localized,variant:v.isSelected?"flat":v.isToday?"outlined":"text",onClick:()=>C(v.date)},item:v,i:S};return o.value&&!v.isSelected&&(v.isDisabled=!0),D("div",{class:j(["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":v.isAdjacent,"v-date-picker-month__day--hide-adjacent":v.isHidden,"v-date-picker-month__day--selected":v.isSelected,"v-date-picker-month__day--week-end":v.isWeekEnd,"v-date-picker-month__day--week-start":v.isWeekStart}]),"data-v-date":v.isDisabled?void 0:v.isoDate},[(e.showAdjacentMonths||!v.isAdjacent)&&(((A=l.day)==null?void 0:A.call(l,R))??f(I,R.props,null))])})])]}})]))}}),we=p({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number,allowedMonths:[Array,Function]},"VDatePickerMonths"),ue=B()({name:"VDatePickerMonths",props:we(),emits:{"update:modelValue":e=>!0},setup(e,a){let{emit:h,slots:l}=a;const t=z(),s=O(e,"modelValue"),c=V(()=>{let d=t.startOfYear(t.date());return e.year&&(d=t.setYear(d,e.year)),he(12).map(n=>{const r=t.format(d,"monthShort"),w=!!(!y(n)||e.min&&t.isAfter(t.startOfMonth(t.date(e.min)),d)||e.max&&t.isAfter(d,t.startOfMonth(t.date(e.max))));return d=t.getNextMonth(d),{isDisabled:w,text:r,value:n}})});ke(()=>{s.value=s.value??t.getMonth(t.date())});function y(d){return Array.isArray(e.allowedMonths)&&e.allowedMonths.length?e.allowedMonths.includes(d):typeof e.allowedMonths=="function"?e.allowedMonths(d):!0}return $(()=>D("div",{class:"v-date-picker-months",style:{height:Z(e.height)}},[D("div",{class:"v-date-picker-months__content"},[c.value.map((d,n)=>{var _;const r={active:s.value===n,color:s.value===n?e.color:void 0,disabled:d.isDisabled,rounded:!0,text:d.text,variant:s.value===d.value?"flat":"text",onClick:()=>w(n)};function w(u){if(s.value===u){h("update:modelValue",s.value);return}s.value=u}return((_=l.month)==null?void 0:_.call(l,{month:d,i:n,props:r}))??f(I,Y({key:"month"},r),null)})])])),{}}}),Ve=p({color:String,height:[String,Number],min:null,max:null,modelValue:Number,allowedYears:[Array,Function]},"VDatePickerYears"),ce=B()({name:"VDatePickerYears",props:Ve(),emits:{"update:modelValue":e=>!0},setup(e,a){let{emit:h,slots:l}=a;const t=z(),s=O(e,"modelValue"),c=V(()=>{const n=t.getYear(t.date());let r=n-100,w=n+52;e.min&&(r=t.getYear(t.date(e.min))),e.max&&(w=t.getYear(t.date(e.max)));let _=t.startOfYear(t.date());return _=t.setYear(_,r),he(w-r+1,r).map(u=>{const o=t.format(_,"year");return _=t.setYear(_,t.getYear(_)+1),{text:o,value:u,isDisabled:!d(u)}})});ke(()=>{s.value=s.value??t.getYear(t.date())});const y=pe();We(async()=>{var n;await Ne(),(n=y.el)==null||n.focus()});function d(n){return Array.isArray(e.allowedYears)&&e.allowedYears.length?e.allowedYears.includes(n):typeof e.allowedYears=="function"?e.allowedYears(n):!0}return $(()=>D("div",{class:"v-date-picker-years",style:{height:Z(e.height)}},[D("div",{class:"v-date-picker-years__content"},[c.value.map((n,r)=>{var _;const w={ref:s.value===n.value?y:void 0,active:s.value===n.value,color:s.value===n.value?e.color:void 0,rounded:!0,text:n.text,disabled:n.isDisabled,variant:s.value===n.value?"flat":"text",onClick:()=>{if(s.value===n.value){h("update:modelValue",s.value);return}s.value=n.value}};return((_=l.year)==null?void 0:_.call(l,{year:n,i:r,props:w}))??f(I,Y({key:"month"},w),null)})])])),{}}}),Xe=Ee("v-picker-title"),_e=p({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,...Je()},"VPicker"),ve=B()({name:"VPicker",props:_e(),setup(e,a){let{slots:h}=a;const{backgroundColorClasses:l,backgroundColorStyles:t}=ye(()=>e.color);return $(()=>{const s=ie.filterProps(e),c=!!(e.title||h.title);return f(ie,Y(s,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!h.actions},e.class],style:e.style}),{default:()=>{var y;return[!e.hideHeader&&D("div",{key:"header",class:j([l.value]),style:fe([t.value])},[c&&f(Xe,{key:"picker-title"},{default:()=>{var d;return[((d=h.title)==null?void 0:d.call(h))??e.title]}}),h.header&&D("div",{class:"v-picker__header"},[h.header()])]),D("div",{class:"v-picker__body"},[(y=h.default)==null?void 0:y.call(h)]),h.actions&&f(ee,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[D("div",{class:"v-picker__actions"},[h.actions()])]})]}})}),{}}}),Ze=p({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,...De(),...be({weeksInMonth:"static"}),...E(we(),["modelValue"]),...E(Ve(),["modelValue"]),..._e({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),K=B()({name:"VDatePicker",props:Ze(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,a){let{emit:h,slots:l}=a;const t=z(),{t:s}=Be(),{rtlClasses:c}=$e(),y=O(e,"modelValue",void 0,i=>q(i).map(m=>t.date(m)),i=>e.multiple?i:i[0]),d=O(e,"viewMode"),n=V(()=>{const i=t.date(e.min);return e.min&&t.isValid(i)?i:null}),r=V(()=>{const i=t.date(e.max);return e.max&&t.isValid(i)?i:null}),w=V(()=>{var x;const i=t.date();let m=i;return(x=y.value)!=null&&x[0]?m=t.date(y.value[0]):n.value&&t.isBefore(i,n.value)?m=n.value:r.value&&t.isAfter(i,r.value)&&(m=r.value),m&&t.isValid(m)?m:i}),_=X(()=>e.headerColor??e.color),u=O(e,"month"),o=V({get:()=>Number(u.value??t.getMonth(t.startOfMonth(w.value))),set:i=>u.value=i}),k=O(e,"year"),b=V({get:()=>Number(k.value??t.getYear(t.startOfYear(t.setMonth(w.value,o.value)))),set:i=>k.value=i}),C=J(!1),g=V(()=>e.multiple&&y.value.length>1?s("$vuetify.datePicker.itemsSelected",y.value.length):y.value[0]&&t.isValid(y.value[0])?t.format(t.date(y.value[0]),"normalDateWithWeekday"):s(e.header)),v=V(()=>{let i=t.date();return i=t.setDate(i,1),i=t.setMonth(i,o.value),i=t.setYear(i,b.value),t.format(i,"monthAndYear")}),S=X(()=>`date-picker-header${C.value?"-reverse":""}-transition`),R=V(()=>{if(e.disabled)return!0;const i=[];if(d.value!=="month")i.push("prev","next");else{let m=t.date();if(m=t.startOfMonth(m),m=t.setMonth(m,o.value),m=t.setYear(m,b.value),n.value){const x=t.addDays(t.startOfMonth(m),-1);t.isAfter(n.value,x)&&i.push("prev")}if(r.value){const x=t.addDays(t.endOfMonth(m),1);t.isAfter(x,r.value)&&i.push("next")}}return i});function A(i,m){const x=e.allowedDates;if(typeof x!="function")return!0;const W=t.getDiff(m,i,"days");for(let N=0;N<W;N++)if(x(t.addDays(i,N)))return!0;return!1}function G(i){if(typeof e.allowedDates=="function"){const m=t.parseISO(`${i}-01-01`);return A(m,t.endOfYear(m))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const m of e.allowedDates)if(t.getYear(t.date(m))===i)return!0;return!1}return!0}function Pe(i){if(typeof e.allowedDates=="function"){const m=String(i+1).padStart(2,"0"),x=t.parseISO(`${b.value}-${m}-01`);return A(x,t.endOfMonth(x))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const m of e.allowedDates)if(t.getYear(t.date(m))===b.value&&t.getMonth(t.date(m))===i)return!0;return!1}return!0}function xe(){o.value<11?o.value++:(b.value++,o.value=0,F()),H()}function Me(){o.value>0?o.value--:(b.value--,o.value=11,F()),H()}function Ce(){d.value="month"}function te(){d.value=d.value==="months"?"month":"months"}function ae(){d.value=d.value==="year"?"month":"year"}function H(){d.value==="months"&&te()}function F(){d.value==="year"&&ae()}return me(y,(i,m)=>{const x=q(m),W=q(i);if(!W.length)return;const N=t.date(x[x.length-1]),U=t.date(W[W.length-1]),T=t.getMonth(U),P=t.getYear(U);T!==o.value&&(o.value=T,H()),P!==b.value&&(b.value=P,F()),C.value=t.isBefore(N,U)}),$(()=>{const i=ve.filterProps(e),m=de.filterProps(e),x=oe.filterProps(e),W=se.filterProps(e),N=E(ue.filterProps(e),["modelValue"]),U=E(ce.filterProps(e),["modelValue"]),T={color:_.value,header:g.value,transition:S.value};return f(ve,Y(i,{color:_.value,class:["v-date-picker",`v-date-picker--${d.value}`,{"v-date-picker--show-week":e.showWeek},c.value,e.class],style:e.style}),{title:()=>{var P;return((P=l.title)==null?void 0:P.call(l))??D("div",{class:"v-date-picker__title"},[s(e.title)])},header:()=>l.header?f(ee,{defaults:{VDatePickerHeader:{...T}}},{default:()=>{var P;return[(P=l.header)==null?void 0:P.call(l,T)]}}):f(oe,Y({key:"header"},x,T,{onClick:d.value!=="month"?Ce:void 0}),{prepend:l.prepend,append:l.append}),default:()=>D(Re,null,[f(de,Y(m,{disabled:R.value,text:v.value,"onClick:next":xe,"onClick:prev":Me,"onClick:month":te,"onClick:year":ae}),null),f(qe,{hideOnLeave:!0},{default:()=>[d.value==="months"?f(ue,Y({key:"date-picker-months"},N,{modelValue:o.value,"onUpdate:modelValue":[P=>o.value=P,H],min:n.value,max:r.value,year:b.value,allowedMonths:Pe}),{month:l.month}):d.value==="year"?f(ce,Y({key:"date-picker-years"},U,{modelValue:b.value,"onUpdate:modelValue":[P=>b.value=P,F],min:n.value,max:r.value,allowedYears:G}),{year:l.year}):f(se,Y({key:"date-picker-month"},W,{modelValue:y.value,"onUpdate:modelValue":P=>y.value=P,month:o.value,"onUpdate:month":[P=>o.value=P,H],year:b.value,"onUpdate:year":[P=>b.value=P,F],min:n.value,max:r.value}),{day:l.day})]})]),actions:l.actions})}),{}}}),et={components:{layoutCard:Ae,layoutCardItem:Se}},tt={class:""};function at(e,a,h,l,t,s){const c=ne("layoutCardItem"),y=ne("layoutCard");return He(),je(le,{class:"container"},{default:M(()=>[a[4]||(a[4]=D("h2",null,"挑選器組件（Pickers）",-1)),f(re,{class:"mt-3 mb-4"}),f(Fe,null,{default:M(()=>[f(Ue,{cols:"12"},{default:M(()=>[f(ze,{class:""},{default:M(()=>[D("div",tt,[f(le,{class:"container"},{default:M(()=>[a[3]||(a[3]=D("h4",{class:"text-h4 mb-2 font-weight-bold"}," 日期選擇器元件（Date pickers） ",-1)),f(re,{class:"pt-2 mb-2"}),f(y,{title:"樣式",flexWrap:"wrap"},{default:M(()=>[f(c,{height:"20px"},{label:M(()=>a[0]||(a[0]=[Q("State:Text")])),content:M(()=>[f(K,{class:"textDatePicker",color:"secondary-lighten-1","header-color":"neutral100","show-adjacent-months":""})]),_:1}),f(c,{height:"20px"},{label:M(()=>a[1]||(a[1]=[Q("State:Elevated")])),content:M(()=>[f(K,{"show-adjacent-months":"",elevation:"6"})]),_:1}),f(c,{height:"20px"},{label:M(()=>a[2]||(a[2]=[Q("State:Flat")])),content:M(()=>[f(K,{color:"secondary-lighten-1",elevation:"6","show-adjacent-months":""})]),_:1})]),_:1})]),_:1,__:[3]})])]),_:1})]),_:1})]),_:1})]),_:1,__:[4]})}const kt=Te(et,[["render",at]]);export{kt as default};
