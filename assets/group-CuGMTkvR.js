import{aB as G,v as V,S as E,A as b,y,K as z,p as C,a8 as S,Q as A,X as w,V as O,C as p,k as g,a7 as P,B as M,z as U,b7 as $,aG as q,az as F,ab as N,am as W}from"./index-CXxU1NFu.js";function _(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=G(),e=V();if(E){const n=new ResizeObserver(s=>{i==null||i(s,n),s.length&&(o==="content"?e.value=s[0].contentRect:e.value=s[0].target.getBoundingClientRect())});b(()=>{n.disconnect()}),y(()=>r.el,(s,a)=>{a&&(n.unobserve(a),e.value=void 0),s&&n.observe(s)},{flush:"post"})}return{resizeRef:r,contentRect:z(e)}}const k=C({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),D=C({value:null,disabled:Boolean,selectedClass:String},"group-item");function H(i,o){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const e=S("useGroupItem");if(!e)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=A();w(Symbol.for(`${o.description}:id`),n);const s=O(o,null);if(!s){if(!r)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${o.description}`)}const a=p(()=>i.value),v=g(()=>!!(s.disabled.value||i.disabled));s.register({id:n,value:a,disabled:v},e),b(()=>{s.unregister(n)});const m=g(()=>s.isSelected(n)),x=g(()=>s.items.value[0].id===n),h=g(()=>s.items.value[s.items.value.length-1].id===n),I=g(()=>m.value&&[s.selectedClass.value,i.selectedClass]);return y(m,t=>{e.emit("group:selected",{value:t})},{flush:"sync"}),{id:n,isSelected:m,isFirst:x,isLast:h,toggle:()=>s.select(n,!m.value),select:t=>s.select(n,t),selectedClass:I,value:a,disabled:v,group:s}}function J(i,o){let r=!1;const e=P([]),n=M(i,"modelValue",[],t=>t==null?[]:R(e,F(t)),t=>{const u=Q(e,t);return i.multiple?u:u[0]}),s=S("useGroup");function a(t,u){const d=t,l=Symbol.for(`${o.description}:id`),f=N(l,s==null?void 0:s.vnode).indexOf(u);W(d.value)==null&&(d.value=f,d.useIndexAsValue=!0),f>-1?e.splice(f,0,d):e.push(d)}function v(t){if(r)return;m();const u=e.findIndex(d=>d.id===t);e.splice(u,1)}function m(){const t=e.find(u=>!u.disabled);t&&i.mandatory==="force"&&!n.value.length&&(n.value=[t.id])}U(()=>{m()}),b(()=>{r=!0}),$(()=>{for(let t=0;t<e.length;t++)e[t].useIndexAsValue&&(e[t].value=t)});function x(t,u){const d=e.find(l=>l.id===t);if(!(u&&(d!=null&&d.disabled)))if(i.multiple){const l=n.value.slice(),c=l.findIndex(B=>B===t),f=~c;if(u=u??!f,f&&i.mandatory&&l.length<=1||!f&&i.max!=null&&l.length+1>i.max)return;c<0&&u?l.push(t):c>=0&&!u&&l.splice(c,1),n.value=l}else{const l=n.value.includes(t);if(i.mandatory&&l||!l&&!u)return;n.value=u??!l?[t]:[]}}function h(t){if(i.multiple,n.value.length){const u=n.value[0],d=e.findIndex(f=>f.id===u);let l=(d+t)%e.length,c=e[l];for(;c.disabled&&l!==d;)l=(l+t)%e.length,c=e[l];if(c.disabled)return;n.value=[e[l].id]}else{const u=e.find(d=>!d.disabled);u&&(n.value=[u.id])}}const I={register:a,unregister:v,selected:n,select:x,disabled:p(()=>i.disabled),prev:()=>h(e.length-1),next:()=>h(1),isSelected:t=>n.value.includes(t),selectedClass:p(()=>i.selectedClass),items:p(()=>e),getItemIndex:t=>L(e,t)};return w(o,I),I}function L(i,o){const r=R(i,[o]);return r.length?i.findIndex(e=>e.id===r[0]):-1}function R(i,o){const r=[];return o.forEach(e=>{const n=i.find(a=>q(e,a.value)),s=i[e];(n==null?void 0:n.value)!=null?r.push(n.id):s!=null&&r.push(s.id)}),r}function Q(i,o){const r=[];return o.forEach(e=>{const n=i.findIndex(s=>s.id===e);if(~n){const s=i[n];r.push(s.value!=null?s.value:n)}}),r}export{J as a,k as b,_ as c,D as m,H as u};
